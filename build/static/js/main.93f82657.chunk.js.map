{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/personService.js","App.js","index.js"],"names":["Filter","filter","handleFilter","value","onChange","PersonForm","handleSubmit","newName","handleNewName","newNumber","handleNewNumber","onSubmit","type","Persons","persons","handleClick","map","person","key","id","name","number","onClick","Notification","message","error","style","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","axios","get","then","response","data","newPerson","post","delete","put","App","useState","setPersons","showPersons","setShowPersons","setNewName","newFilter","setNewFilter","setNewNumber","setMessage","setError","getData","personService","useEffect","catch","setTimeout","renderMessage","event","target","toLowerCase","includes","preventDefault","found","length","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.93f82657.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filter, handleFilter }) => {\r\n    return(\r\n        <div>\r\n            <h2>Filter Shown with</h2>\r\n            name: <input value={ filter } onChange={ handleFilter } /><br />\r\n        </div>\r\n    )\r\n  }\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({ handleSubmit, newName, handleNewName, newNumber, handleNewNumber }) => (\r\n    <form onSubmit={ handleSubmit }>\r\n        <div>\r\n          name: <input value={ newName } onChange={ handleNewName } /><br />\r\n          number: <input value={ newNumber } onChange={ handleNewNumber } />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({ persons, handleClick }) => {\r\n    return (\r\n    <ul>\r\n        { persons.map(person => <li key={ person.id }>{ person.name } {person.number} <button onClick={ () => handleClick(person.id) }>delete</button> </li>) }\r\n    </ul>\r\n    )}\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message, error }) => {\r\n    if(message === null){\r\n        return null\r\n    }\r\n    let style = {\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    if(error){\r\n        style['color'] = 'red'\r\n    }\r\n    else{\r\n        style['color'] = 'green'\r\n    }\r\n    return (\r\n        <div style={ style }>\r\n            { message }\r\n        </div>\r\n    )\r\n}\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = 'http://localhost:3001/api/persons/'\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    const request = axios.post(baseUrl,newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => axios.delete(`${baseUrl}${id}`)\r\n\r\nconst update = (newPerson) => {\r\n    const request = axios.put(`${baseUrl}${newPerson.id}`, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    deletePerson,\r\n    update\r\n}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/personService' \n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ showPersons, setShowPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ error, setError ] = useState(false)\n\n  const getData = () => {\n    return personService\n            .getAll()\n            .then(data => {\n              setPersons(data)\n              setShowPersons(data)\n            })\n  }\n\n  useEffect(() =>{\n    getData()\n      .catch(error => {\n        setError(true)\n        setMessage('Network error I guess')\n        setTimeout(() => setMessage(null), 3000)\n      })\n  },[])\n\n  const renderMessage = (message, error) => {\n    setError(error)\n    setMessage(message)\n    setTimeout(() => setMessage(null), 3000)\n  }\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n  \n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    let newPerson = {name: newName, number: newNumber}\n    const found = persons.filter(person => person.name.toLowerCase().includes(newName.toLowerCase()))\n    \n    if(found.length === 0){\n      personService\n        .create(newPerson)\n        .then(data => {\n          getData()\n            .then(data => {\n              renderMessage(`${newName} was added successfully`,false)\n            })\n            .catch(error => {\n              renderMessage('Network error I guess',true)\n            })\n        })\n    }\n    else{\n      const res = window.confirm(`${newName} is already in phonebook. Would you like to update?`)\n      if(res){\n        newPerson = {...found[0],number: newNumber}\n        personService\n          .update(newPerson)\n          .then(data => {\n            setPersons(persons.map(person => person.id === data.id ? data : person))\n            setShowPersons(persons.map(person => person.id === data.id ? data : person))\n            renderMessage(`${newName} was updated successfully`,false)\n          })\n          .catch(error => {\n            renderMessage(`${newName} was already removed from the server`,true)\n            getData()\n          })\n      }\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNewFilter = (event) => {\n    let filter = event.target.value\n    setNewFilter(filter)\n    if(filter === ''){\n      setShowPersons(persons)\n    }\n    else{\n      setShowPersons(persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase())))\n    }\n  }\n\n  const handleDelete = (id) => {\n    const name = persons.filter(person => person.id === id)[0].name\n    const res = window.confirm(`Are you sure you want to delete ${name}`)\n    if(res){\n      personService\n        .deletePerson(id)\n        .then(response => {\n          personService\n            .getAll()\n            .then(data => {\n              setPersons(data)\n              setShowPersons(data)\n              renderMessage(`${name} was deleted successfully`,false)\n            })\n        })\n        .catch(error => {\n          renderMessage('Network error I guess',true)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={ message } error={ error } />\n      <Filter filter={ newFilter } handleFilter={ handleNewFilter }/>\n      <h2>Add new</h2> \n      <PersonForm handleSubmit={ handleSubmit } newName={ newName } handleNewName={ handleNewName } newNumber={ newNumber } handleNewNumber={handleNewNumber } /> \n      <h2>Numbers</h2>\n      <Persons persons={ showPersons } handleClick={ handleDelete }/>\n      <div>debug: {newName}</div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}